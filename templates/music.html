<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YuJeong Music</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            margin: 0; padding: 0; height: 100vh;
            display: flex; justify-content: center; align-items: center;
            background: transparent; /* 노션에 투명하게 녹아들기 */
            font-family: 'Segoe UI', sans-serif;
        }
        .player-container {
            width: 300px; /* 크기 약간 조절 */
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(225, 98, 89, 0.15);
            text-align: center;
            border: 2px solid #FFD9E8; /* 핑크 테두리 */
        }
        .img-container {
            width: 150px; height: 150px;
            border-radius: 50%; margin: 0 auto 15px;
            position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 4px solid white; overflow: hidden;
        }
        .img-container img { width: 100%; height: 100%; object-fit: cover; }
        .rotate { animation: rotation 10s infinite linear; }
        @keyframes rotation { from { transform: rotate(0deg); } to { transform: rotate(359deg); } }
        
        h2 { margin: 0; font-size: 1.1rem; color: #333; }
        h3 { margin: 5px 0 15px; font-size: 0.8rem; color: #E16259; }
        
        .progress-container {
            background: #ffe3ec; border-radius: 5px; cursor: pointer;
            margin: 10px 0; height: 5px; width: 100%;
        }
        .progress {
            background-color: #E16259; border-radius: 5px;
            height: 100%; width: 0%; transition: width 0.1s linear;
        }
        .controls { display: flex; justify-content: center; align-items: center; gap: 20px; margin-top: 10px; }
        .btn { background: none; border: none; cursor: pointer; color: #ccc; font-size: 1.2rem; }
        .btn:hover { color: #E16259; }
        .btn-big { font-size: 2rem; color: #E16259; }
        .btn-big:hover { transform: scale(1.1); }
    </style>
</head>
<body>
    <div class="player-container">
        <div class="img-container" id="cover-container">
            <img src="" alt="cover" id="cover">
        </div>
        <h2 id="title">Song Title</h2>
        <h3 id="artist">Artist</h3>
        <audio id="audio"></audio>
        <div class="progress-container" id="progress-container">
            <div class="progress" id="progress"></div>
        </div>
        <div class="controls">
            <button class="btn" id="prev"><i class="fas fa-backward"></i></button>
            <button class="btn btn-big" id="play"><i class="fas fa-play"></i></button>
            <button class="btn" id="next"><i class="fas fa-forward"></i></button>
        </div>
    </div>

    <script>
        // ⭐ 유정이의 노래 목록 (파일명 정확해야 해!)
        // 경로는 '/static/music/파일명' 이렇게 써야 해
        const songs = [
            {
                title: "첫 번째 노래",
                artist: "가수 1",
                file: "/static/music/song1.mp3", 
                cover: "/static/music/cover.jpg"
            },
            {
                title: "두 번째 노래",
                artist: "가수 2",
                file: "/static/music/song2.mp3",
                cover: "/static/music/cover.jpg"
            }
        ];

        let songIndex = 0;
        const audio = document.getElementById('audio');
        const playBtn = document.getElementById('play');
        const prevBtn = document.getElementById('prev');
        const nextBtn = document.getElementById('next');
        const title = document.getElementById('title');
        const artist = document.getElementById('artist');
        const cover = document.getElementById('cover');
        const coverContainer = document.getElementById('cover-container');
        const progress = document.getElementById('progress');
        const progressContainer = document.getElementById('progress-container');

        function loadSong(song) {
            title.innerText = song.title;
            artist.innerText = song.artist;
            audio.src = song.file;
            cover.src = song.cover;
        }

        loadSong(songs[songIndex]);

        function playSong() {
            coverContainer.classList.add('rotate');
            playBtn.querySelector('i').classList.remove('fa-play');
            playBtn.querySelector('i').classList.add('fa-pause');
            audio.play();
        }

        function pauseSong() {
            coverContainer.classList.remove('rotate');
            playBtn.querySelector('i').classList.add('fa-play');
            playBtn.querySelector('i').classList.remove('fa-pause');
            audio.pause();
        }

        playBtn.addEventListener('click', () => {
            const isPlaying = playBtn.querySelector('i').classList.contains('fa-pause');
            if (isPlaying) pauseSong(); else playSong();
        });

        prevBtn.addEventListener('click', () => {
            songIndex--;
            if (songIndex < 0) songIndex = songs.length - 1;
            loadSong(songs[songIndex]);
            playSong();
        });

        nextBtn.addEventListener('click', () => {
            songIndex++;
            if (songIndex > songs.length - 1) songIndex = 0;
            loadSong(songs[songIndex]);
            playSong();
        });

        audio.addEventListener('timeupdate', (e) => {
            const { duration, currentTime } = e.srcElement;
            const progressPercent = (currentTime / duration) * 100;
            progress.style.width = `${progressPercent}%`;
        });

        progressContainer.addEventListener('click', (e) => {
            const width = progressContainer.clientWidth;
            const clickX = e.offsetX;
            const duration = audio.duration;
            audio.currentTime = (clickX / width) * duration;
        });

        audio.addEventListener('ended', () => nextBtn.click());
    </script>
</body>
</html>
